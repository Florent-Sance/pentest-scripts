import os
import sys

nmapscan = open(sys.argv[1])

for elmt in nmapscan.readlines():
	if elmt.partition('Ports')[1] == 'Ports' and elmt.partition('# Ports scanned:')[1] != "# Ports scanned:":
		ports = elmt.partition('Ports: ')[2].rstrip().split(', ')
		#print elmt
		for port in ports:
			#print port
			if port.split('/')[1] == 'open':
				#add_target(port.split('/')[4], port.split('/')[0], elmt.split(' ')[1])
				#print elmt.split(' ')
				if port.split('/')[0] == '443' or port.split('/')[0] == '8443':
					print 'https://' + elmt.split(' ')[1] + ':' + port.split('/')[0]
				else:
					print 'http://' + elmt.split(' ')[1] + ':' + port.split('/')[0]

nmapscan.close()

